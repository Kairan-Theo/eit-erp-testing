import{r,j as t}from"./index-BHXMZ0-J.js";import{C as y,m as d}from"./navigation-B0IDt7ps.js";import{C}from"./check-CiAOFjR6.js";function E({value:n,onChange:m,options:f=[],placeholder:p="Select or type...",placement:x="bottom"}){const[a,s]=r.useState(!1),[o,c]=r.useState(""),u=r.useRef(null),h=r.useRef(null);r.useEffect(()=>{c(n||"")},[n]),r.useEffect(()=>{const e=l=>{u.current&&!u.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const b=Array.isArray(f)?f:[],i=o===""?b:b.filter(e=>e&&e.toLowerCase().includes(o.toLowerCase())),g=e=>{const l=e.target.value;c(l),m(l),s(!0)},w=e=>{c(e),m(e),s(!1)},j=()=>{var e;a?s(!1):(s(!0),(e=h.current)==null||e.focus())};return t.jsxs("div",{className:"relative w-full",ref:u,children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:h,type:"text",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-[#2D4485]/20 focus:border-[#2D4485] outline-none placeholder:text-slate-500",placeholder:p,value:o,onChange:g,onFocus:()=>s(!0)}),t.jsx("button",{type:"button",onClick:j,className:"absolute right-0 top-0 h-full px-3 text-slate-500 hover:text-slate-700 focus:outline-none",tabIndex:-1,children:t.jsx(y,{className:"h-4 w-4"})})]}),a&&i.length>0&&t.jsx("ul",{className:d("absolute z-50 max-h-60 w-full overflow-auto rounded-md border border-slate-200 bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm",x==="top"?"bottom-full mb-1":"mt-1"),children:i.map((e,l)=>t.jsxs("li",{className:d("relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-slate-100 text-slate-900",n===e?"bg-blue-50 text-blue-900":""),onClick:()=>w(e),children:[t.jsx("span",{className:"block truncate",children:e}),n===e&&t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600",children:t.jsx(C,{className:"h-4 w-4"})})]},l))}),a&&i.length===0&&o!==""&&t.jsx("ul",{className:d("absolute z-50 w-full rounded-md border border-slate-200 bg-white py-2 shadow-lg text-sm text-center text-slate-500",x==="top"?"bottom-full mb-1":"mt-1"),children:t.jsx("li",{children:"No matching options found"})})]})}export{E as C};
