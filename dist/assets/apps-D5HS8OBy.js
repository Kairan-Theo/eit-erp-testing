import{a as r,j as e,R as d}from"./index-BHXMZ0-J.js";import{c as s,A as m,N as x}from"./navigation-B0IDt7ps.js";import{B as g,A as h}from"./briefcase-BO3pe571.js";import{L as u}from"./language-context-DF7eV6qf.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=s("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=s("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=s("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=s("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),b=[{name:"Manufacturing",description:"Production planning, work orders, and shop floor control.",icon:p,color:"text-orange-600",bgColor:"bg-orange-50",href:"/manufacturing.html"},{name:"Inventory",description:"Real-time stock tracking, warehousing, and logistics.",icon:y,color:"text-emerald-600",bgColor:"bg-emerald-50",href:"/inventory.html"},{name:"CRM",description:"Customer relationship management and sales pipeline.",icon:f,color:"text-blue-600",bgColor:"bg-blue-50",href:"/crm.html"},{name:"Project Management",description:"Task tracking, timelines, and resource allocation.",icon:g,color:"text-purple-600",bgColor:"bg-purple-50",href:"/project.html"},{name:"Admin",description:"System configuration, user roles, and security settings.",icon:c,color:"text-slate-600",bgColor:"bg-slate-50",href:"/admin.html"}];function w(){const[l,n]=r.useState("all"),i=r.useCallback(async()=>{try{const a=localStorage.getItem("authToken");if(!a)return;const t=await fetch(`${m}/api/auth/me/allowed-apps/`,{headers:{Authorization:`Token ${a}`}});if(t.ok){const o=await t.json();typeof o.allowed_apps=="string"&&(n(o.allowed_apps),localStorage.setItem("allowedApps",o.allowed_apps))}}catch{}},[]);return r.useEffect(()=>{const a=localStorage.getItem("allowedApps");n(a===null?"all":a),i();const t=setInterval(i,5e3);return()=>clearInterval(t)},[]),l===""?e.jsx("section",{className:"w-full bg-gray-50/50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md mx-auto text-center mt-10",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"You are not allowed to use any applications yet. Please contact the Administrator or wait for approval."})]})})}):e.jsx("section",{className:"w-full bg-gray-50/50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(a=>l==="all"||l.includes(a.name)?e.jsxs("button",{type:"button",onClick:()=>{a.href&&(window.location.href=a.href)},className:"group flex flex-col p-6 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md hover:border-gray-300 transition-all duration-300 text-left h-full",children:[e.jsxs("div",{className:"flex items-start justify-between w-full mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${a.bgColor} ${a.color} transition-colors group-hover:bg-white group-hover:ring-1 group-hover:ring-gray-200`,children:e.jsx(a.icon,{className:"w-6 h-6",strokeWidth:1.5})}),e.jsx(h,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500 transition-colors -mr-1"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-[#2D4485] transition-colors",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:a.description})]},a.name):e.jsxs("div",{className:"group flex flex-col p-6 bg-gray-50 border border-gray-200 rounded-xl opacity-60 cursor-not-allowed text-left h-full grayscale relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-100/50 backdrop-blur-[1px] z-10 flex items-center justify-center",children:e.jsx("span",{className:"bg-gray-200 text-gray-500 text-xs font-bold px-2 py-1 rounded",children:"Access Restricted"})}),e.jsx("div",{className:"flex items-start justify-between w-full mb-4",children:e.jsx("div",{className:"p-3 rounded-lg bg-gray-100 text-gray-400",children:e.jsx(a.icon,{className:"w-6 h-6",strokeWidth:1.5})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-400 mb-2",children:a.name}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:a.description})]},a.name))})})})}function j(){return e.jsxs("main",{className:"min-h-screen bg-gray-50/50",children:[e.jsx(x,{}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Enterprise Modules"}),e.jsx("p",{className:"mt-2 text-lg text-gray-500",children:"Manage your manufacturing operations with our integrated suite of tools."})]})})})}),e.jsx(w,{})]})}d.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(u,{children:e.jsx(j,{})})}));
