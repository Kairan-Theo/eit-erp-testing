import{r as n,j as t}from"./index-BHXMZ0-J.js";import{C as g,m as w}from"./navigation-B0IDt7ps.js";import{C as j}from"./check-CiAOFjR6.js";function N({value:r,onChange:m,options:d=[]}){const[a,s]=n.useState(!1),[o,c]=n.useState(""),u=n.useRef(null),f=n.useRef(null);n.useEffect(()=>{c(r||"")},[r]),n.useEffect(()=>{const e=l=>{u.current&&!u.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const p=Array.isArray(d)?d:[],i=o===""?p:p.filter(e=>e.customer_name&&e.customer_name.toLowerCase().includes(o.toLowerCase())),x=e=>{const l=e.target.value;c(l),m(l),s(!0)},h=e=>{c(e),m(e),s(!1)},b=()=>{var e;a?s(!1):(s(!0),(e=f.current)==null||e.focus())};return t.jsxs("div",{className:"relative w-full",ref:u,children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:f,type:"text",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-[#2D4485]/20 focus:border-[#2D4485] outline-none placeholder:text-slate-500",placeholder:"Select or type company name...",value:o,onChange:x,onFocus:()=>s(!0)}),t.jsx("button",{type:"button",onClick:b,className:"absolute right-0 top-0 h-full px-3 text-slate-500 hover:text-slate-700 focus:outline-none",tabIndex:-1,children:t.jsx(g,{className:"h-4 w-4"})})]}),a&&i.length>0&&t.jsx("ul",{className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md border border-slate-200 bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm",children:i.map(e=>t.jsxs("li",{className:w("relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-slate-100 text-slate-900",r===e.customer_name?"bg-blue-50 text-blue-900":""),onClick:()=>h(e.customer_name),children:[t.jsx("span",{className:"block truncate",children:e.customer_name}),r===e.customer_name&&t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600",children:t.jsx(j,{className:"h-4 w-4"})})]},e.id||e.customer_name))}),a&&i.length===0&&o!==""&&t.jsx("ul",{className:"absolute z-50 mt-1 w-full rounded-md border border-slate-200 bg-white py-2 shadow-lg text-sm text-center text-slate-500",children:t.jsx("li",{children:"No matching customers found"})})]})}export{N as C};
